{"version":3,"sources":["schpaa/components/sidebar.cljs"],"mappings":"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","names":["schpaa.components.sidebar/tabs-data","schpaa.components.sidebar-mock/content-tab-data","schpaa.components.sidebar-mock/content-content-fn","_","schpaa.components.sidebar-mock/barchart-panel-data","schpaa.markdown/md->html","schpaa.components.sidebar-mock/brygge-panel-data","e","nrpk.database/cloud-content","p__54882","map__54883","cljs.core/--destructure-map","cljs.core.get","selected-tab","G__54884","cljs.core/Keyword","iter__4652__auto__","s__54886","cljs.core/LazySeq","temp__5753__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4650__auto__","size__4651__auto__","cljs.core/count","b__54888","cljs.core/chunk-buffer","i__54887","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__54885","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core.range","schpaa.components.sidebar/brygge-content","schpaa.components.sidebar/tab-content-fn","tabs-data","cljs.core.get_in","schpaa.style/color-map","tab-id","color-map","local-tab-data","content-fn","below-fn","tab","re_frame.core.subscribe","G__54889","cljs.core/deref","G__54890","p__54891","map__54892","schpaa.components.sidebar/render","get-menuopen-fn","get-selected-tab","menu-direction","accessors","direction","cljs.core.concat","schpaa.style/sidebar-color","schpaa.components.sidebar.toolbar/toolbar","cljs.core.conj","schpaa.components.sidebar/takk-for-tilbakemelding!","js/setTimeout","schpaa.modal/form-action","map__54897","fg-","fg","fg+","p","he","hd","p+","p-","schpaa.style/fbg'","e'","p1__54894#","schpaa.components.views/modern-checkbox'","schpaa.state/change","schpaa.state/listen","checkbox","map__54898","p1__54895#","user-auth","uid","G__54899","schpaa.button/regular-button-small","G__54900","db.core/database-push","tick.core/<<","tick.core/now","tick.core/new-duration","cljs.core/rand-int","G__54901","tick.core/>>","map__54902","p1__54896#","schpaa.button/regular-button","schpaa.modal.readymade/ok-cancel","re-frame.core/dispatch","cljs.core/chunk-first"],"sourcesContent":["(ns schpaa.components.sidebar\n  (:require [schpaa.style :as s]\n            [schpaa.components.widgets :as widgets]\n            [schpaa.components.sidebar-mock :as sidebar.mock]\n            [re-frame.core :as rf]\n            [schpaa.icon :as icon]\n            [schpaa.debug :as l]\n            [schpaa.markdown :as markdown]\n            [shadow.resource :refer [inline]]\n            [schpaa.components.sidebar.toolbar :as sidebar.toolbar]\n            [nrpk.fsm-helpers :refer [send]]\n            [schpaa.components.tab :refer [tab]]\n            [schpaa.modal :as modal]\n            [reagent.core :as r]\n            [schpaa.button :as bu]\n            [schpaa.style :as st]\n            [schpaa.components.views]\n            [nrpk.database]\n            [schpaa.modal.readymade]\n            [db.core :as db]                   \n            [tick.core :as t]))\n\n(declare brygge-content)\n\n(def tabs-data\n  {:list      {:local-tab-data sidebar.mock/content-tab-data\n               :content-fn     sidebar.mock/content-content-fn\n               :below-fn       (fn [_] [:div \"Below\"]) #_sidebar.mock/content-below-fn}\n   :bar-chart {:local-tab-data sidebar.mock/barchart-panel-data\n               :content-fn\n               (fn [_]\n                 [:div.p-4.bg-gray-100.dark:bg-gray-900\n                  [:div.prose.dark:prose-invert.prose-lg.prose-stone.overflow-y-auto.antialiased.mx-auto\n                   {:class [\n                            :prose-h3:text-base\n                            :prose-h3:font-bold\n                            :prose-h3:uppercase\n                            ;\"prose-h3:text-alt\"\n                            ;\"prose-h3:dark:text-orange-300/90\"\n                            :prose-p:leading-relaxed\n                            :prose-p:font-normal\n                            :prose-p:font-serif\n                            ;\"prose-p:text-black/50\"\n                            ;\"prose-a:text-sky-400\"\n                            :prose-a:leading-snug\n                            :prose-p:m-0\n                            :prose-p:mb-2\n                            :prose-p:p-0\n                            ;:prose-strong:text-white\n                            ;\"prose-strong:bg-black/50\"\n                            :prose-strong:py-1\n                            :prose-strong:px-2\n                            :prose-strong:rounded\n\n                            :prose-ul:list-decimal\n                            :prose-ul:list-outside]}\n                   #_{:class [:prose-h3:text-base\n                              :prose-h3:font-bold\n                              :prose-h3:uppercase\n                              \"prose-h3:text-orange-900/90\"\n                              \"prose-h3:dark:text-orange-300/90\"\n                              :prose-p:leading-relaxed\n                              :prose-p:font-normal\n                              \"prose-p:text-white/90\"\n                              \"prose-a:text-white/50\"\n                              :prose-a:leading-snug\n                              :prose-a:text-lg\n                              :prose-p:m-0\n                              :prose-p:mb-2\n                              :prose-p:p-0\n                              :prose-strong:text-white\n                              \"prose-strong:bg-black/50\"\n                              :prose-strong:py-1\n                              :prose-strong:px-2\n                              :prose-strong:rounded\n\n                              :prose-ul:list-decimal\n                              :prose-ul:list-outside]}\n                   (markdown/md->html (inline \"./retningslinjer.md\"))]])\n\n               #_(fn [_]\n                   [:div.grid.gap-y-2x.-my-4x\n                    {:style {:height             \"calc(100vh - 4rem)\"\n                             :grid-template-rows \"5rem 1fr 5rem\"}}\n                    [:div.rounded.p-2.-mx-2x.mx-3.mt-3\n                     {:class \"bg-black/20\"}\n                     \"HEAD\"]\n                    [:div.overflow-y-scroll.px-4.py-16\n                     (for [e (range 100)]\n                       [:div e])]\n                    [:div.rounded-t.p-2.mx-3\n                     {:class \"bg-black/20\"}\n                     \"FOOTER\"]]\n                   #_[:div.flex.flex-col\n\n                      [:div.flex.items-center.bg-pink-500.w-full.py-4.shrink-0\n                       [:div.h-32.flex.items-center.w-full.px-4.mx-4\n                        {:class \"bg-black/20\"} \"content\"]]\n\n                      [:div.flex-grow-1.overflow-y-auto\n                       (for [e (range 100)]\n                         [:div e])]])\n               :abelow-fn      (fn [_] [:div.bg-alt.h-32.flex-shrink-0 \"Below\"])}\n   :cloud     {:local-tab-data sidebar.mock/brygge-panel-data\n               :content-fn     (fn [e] (nrpk.database/cloud-content))\n               :below-fn       (fn [_] [:div \"Below\"])}\n   :brygge    {:local-tab-data sidebar.mock/brygge-panel-data\n               :content-fn     (fn [{:keys [selected-tab]}]\n                                 (case selected-tab\n                                   :a\n                                   [:div.text-xl \"Active -> \" selected-tab\n                                    (for [e (range 20)]\n                                      [:div e])]\n                                   (brygge-content)))\n\n               :-below-fn      (fn [_] [:div \"Below\"])}})\n\n(defn tab-content-fn [selected-tab tabs-data]\n  [:div#maint.overflow-y-auto\n   {:style {:height \"calc(100vh - (4rem))\"}\n    ;intent apply color-scheme of selected tab\n    :class (get-in s/color-map [selected-tab :selected :bg])}\n   (let [tab-id selected-tab\n         color-map (get s/color-map selected-tab)\n         local-tab-data (get-in tabs-data [selected-tab :local-tab-data])\n         content-fn (get-in tabs-data [selected-tab :content-fn])\n         below-fn (get-in tabs-data [selected-tab :below-fn])\n         tab (rf/subscribe [::widgets/get-tab tab-id])]\n     [:div.flex.flex-col.min-h-full\n      ;[:div (str @tab)]\n      [:div.flex.flex-col.flex-grow\n       [:div.xp-4.overflow-y-auto\n        {:class (get-in color-map [:selected :tab])}\n        ;intent Draw indiviual content\n        (when content-fn\n          (content-fn {:selected-tab @tab\n                       :color-map    color-map}))]]\n      ;intent Draw common content below\n      (when below-fn\n        [:div.p-2 (below-fn {:selected-tab @tab\n                             :color-map    color-map})])])])\n\n(defn render [{:keys [get-menuopen-fn get-selected-tab menu-direction] :as accessors}]\n  (let [direction (if menu-direction\n                    [:origin-top-right :border-l-0 :xs:border-l :right-0 (if (get-menuopen-fn) :translate-x-0 :translate-x-full)]\n                    [:origin-top-left :border-r-0 :xs:border-r :left-0 (if (get-menuopen-fn) :translate-x-0 :-translate-x-full)])]\n    [:div\n     {:class (concat direction\n                     (when (get-menuopen-fn) [:shadow-xl])\n                     [:fixed :h-screen :z-300 :top-0]\n                     [:transform :duration-200]\n                     [:border-black :z-200]\n                     [:xs:w-80 :w-full])}\n     [:div\n      {:class (concat s/sidebar-color)}\n      [sidebar.toolbar/toolbar (conj {:color-map s/color-map} accessors)]\n      [tab-content-fn (get-selected-tab) tabs-data]]]))\n\n(defn takk-for-tilbakemelding! []\n  (js/setTimeout\n    (fn [] (modal/form-action {:icon  :heart\n                               :flags #{:timeout :message :weak-dim}\n                               :title \"Takk for tilbakemeldingen!\"}))\n    2000))\n\n(defn brygge-content []\n  [:div.space-y-4.p-3.flex.flex-col\n   {:style {:min-height \"calc(100vh - 4rem)\"}}\n   #_(let [admin\n           (fn [] (modal/form-action\n                    {:flags   #{:weak-dim}\n                     :title   \"state\"\n                     :form-fn (fn []\n                                [:div\n                                 [l/ppre-x (:re-statecharts.core/fsm-state @re-frame.db/app-db)]\n                                 [bu/just-buttons [[\"Report\" [:btn-free] #(do\n                                                                            (send :e.hide)\n                                                                            (tap> \"Send report home\")\n                                                                            (takk-for-tilbakemelding!))]]]])}))\n\n           regular #(modal/form-action {:title \"app-db\" :form-fn (fn [] [l/ppre-x @re-frame.db/app-db])})]\n\n       (r/with-let [s (r/atom 1)]\n         [:div (schpaa.components.tab/tab\n                 (conj schpaa.components.tab/select-bar-config\n                       {:item     [\"w-1/2\"]\n                        :select   #(reset! s %)\n                        :selected (deref s)})\n                 [0 \"Administrator\" #(admin)]\n                 [1 \"Vanlig\" #(regular)]\n                 #_[2 \"Gaus?\" #(regular)])]))\n\n   [:div.grow.flex.flex-col.gap-4\n    (let [{:keys [fg- fg fg+ p he hd p+ p-]} (st/fbg' :config-panel)\n          e \"Plasser meny til venstre\"\n          e' \"Undertekst som st\u00f8tter overtekst\"]\n      (schpaa.components.views/modern-checkbox'\n        {:set-details #(schpaa.state/change :app/menu-direction %)\n         :get-details #(-> (schpaa.state/listen :app/menu-direction) deref)}\n        (fn [checkbox]\n          [:div.flex.items-center.justify-between.gap-4.w-full.px-2\n           checkbox\n           [:div.space-y-0.grow\n            [:div {:class (concat fg p+)} e]\n            [:div {:class (concat fg- p-)} e']]])))\n\n    (let [{:keys [fg- fg fg+ p he hd p+ p-]} (st/fbg' :config-panel)\n          e \"M\u00f8rkt modus\"]\n      (schpaa.components.views/modern-checkbox'\n        {:set-details #(schpaa.state/change :app/dark-mode %)\n         :get-details #(-> @(schpaa.state/listen :app/dark-mode))}\n        (fn [checkbox]\n          [:div.flex.items-center.justify-between.gap-4.w-full.px-2\n           checkbox\n           [:div.space-y-0.grow\n            [:div {:class (concat fg p+)} e]]])))]\n\n   (let [user-auth (rf/subscribe [::db/user-auth])\n         uid (some-> user-auth deref :uid)]\n     [:div.flex.gap-2\n      [bu/regular-button-small {:on-click #(db/database-push {:path  [\"booking-posts\" \"articles\"]\n                                                              :value {:uid     uid\n                                                                      :content \"old\"\n                                                                      :date    (str (t/<< (t/now) (t/new-duration (rand-int 240) :hours)))}})}\n       [:div [:div \"Add\"] [:div \"old\"]]]\n      [bu/regular-button-small {:on-click #(db/database-push {:path  [\"booking-posts\" \"articles\"]\n                                                              :value {:uid     uid\n                                                                      :content \"recent\"\n                                                                      :date    (str (t/>> (t/now) (t/new-duration (rand-int 3) :minutes)))}})}\n       [:div [:div \"Add\"] [:div \"+3\"]]]])\n\n\n   [:div.flex.flex-col.gap-8\n    (let [{:keys [fg- fg fg+ p he hd p+ p-]} (st/fbg' :config-panel)\n          e \"Eksponer app-db\"]\n      (schpaa.components.views/modern-checkbox'\n        {:set-details #(schpaa.state/change :app/expose-app-db %)\n         :get-details #(-> @(schpaa.state/listen :app/expose-app-db))}\n        (fn [checkbox]\n          [:div.flex.items-center.justify-between.gap-4.w-full.px-2\n           checkbox\n           [:div.space-y-0.grow\n            [:div {:class (concat fg p+)} e]\n            [:div {:class (concat fg- p-)} \"for feils\u00f8king\"]]])))\n    (bu/regular-button {:on-click #(schpaa.modal.readymade/ok-cancel\n                                     {:ok              (fn [] (rf/dispatch [:schpaa.state/restore-settings]))\n                                      :button-captions {:ok \"Greit\" :cancel \"Neida\"}\n                                      :flags           #{:timeout :forced :wide}\n                                      :content         \"Nullstill alt?\"})} \"Nullstill alt\")\n    #_[:button.btn.btn-free\n       {:on-click #(modal/form-action\n                     {:flags   #{:timeout :weak-dim}\n                      :title   \"Overskrift\"\n                      :icon    :circle-question\n                      :form-fn (fn [] [:div.space-y-1.p-4\n                                       [:p \"Vi pr\u00f8ver oss p\u00e5 en lang melding som de f\u00e6rreste kommer til \u00e5 lese\"]\n                                       [:p \"I tillegg til \u00e5 ha flere avsnitt garanterer du at ingen kommer til \u00e5 lese dette.\"]])\n                      :footer  \"Lukkes automatisk etter 5 sekunder\"})}\n       \"Nullstill alt\"]]])\n"]}