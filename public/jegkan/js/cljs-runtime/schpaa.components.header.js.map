{"version":3,"sources":["schpaa/components/header.cljs"],"mappings":"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","names":["schpaa.components.header/header-id","p__75603","p__75604","map__75608","cljs.core/--destructure-map","map__75609","schpaa.components.header/icon-switch","menu-direction","icon-a","icon-b","cljs.core.concat","schpaa.icon/touch","p__75618","map__75619","cljs.core.get","schpaa.components.header/left-icon","user-auth","navigate-to-user","navigate-to-home","current-page","map__75624","bg-","fg","br","schpaa.style/fbg'","frontpage?","or__4253__auto__","cljs.core/some","p__75638","map__75639","schpaa.components.header/right-icon","get-menuopen-fn","toggle-menu-open","map__75643","p1__75634#","icon","G__75644","cljs.core/deref","re_frame.core.subscribe","schpaa.style/color-map","cljs.core.keyword","schpaa.components.header/home-icon","schpaa.icon/adapt","re_frame.core.reg_sub","p__75658","map__75659","schpaa.components.header/title","current-page-title","current-page-subtitle","m","map__75660","vec__75661","cljs.core.nth","fg-","fg+","p+","p-","p","sub-text","app-name","title","long-form","short-form","cljs.core/vector?","sub-header","p__75677","map__75678","schpaa.components.header/render","map__75681","bg","hd","he","cljs.core.into","G__75685","cljs.core/reverse"],"sourcesContent":["(ns schpaa.components.header\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]\n            [schpaa.state :as state]\n            [schpaa.style :as s]\n            [schpaa.icon :as icon]\n            [schpaa.components.views :as views]\n            [schpaa.style :as st]\n            [schpaa.debug :as l]))\n\n(def header-id :header)\n\n(defn icon-switch [menu-direction {:as icon-a} {:as icon-b}]\n  [:div.relative.text-white.p-4\n   [:div\n    {:class (concat (:class icon-a))}\n    [icon/touch (:icon icon-a)]]\n   #_[:div.absolute.w-5.h-5\n      {:class (concat [\"top-2.5\"] (if menu-direction\n                                    (concat [:right-2] (:class icon-b))\n                                    (concat [:left-2] (:class icon-b))))}\n      [icon/adapt (:icon icon-b) 1.4]]])\n\n(defn left-icon [{:keys [user-auth navigate-to-user navigate-to-home current-page]}]\n  (let [{:keys [bg- fg br]} (st/fbg' :master-header)\n        frontpage? (or\n                     (some #{(current-page)} [:r.new-booking :r.forsiden :r.booking-blog])\n                     (some #{(current-page)} [:r.forsiden :r.kalender :r.annet]))]\n    (if frontpage?\n      [:div.flex.flex.flex-center\n       {:on-click #(navigate-to-user)\n        :class    (concat [:rounded-md :hover:bg-gray-200 :m-2]\n                          br fg bg-)}\n       [:div.relative\n        [:div {:on-click #(navigate-to-user)}\n         [icon/touch :circle-user]]\n        (when-not (user-auth)\n          [:div.absolute.inset-0.animate-slow-ping.text-alt\n           {:on-click #(navigate-to-user)}\n           [icon/touch :circle-filled]])]]\n\n      [:div.flex.flex.flex-center\n       {:on-click #(navigate-to-home)\n        :class    (concat [:rounded-md :hover:bg-gray-200 :m-2]\n                          br fg bg-)}\n       [:div\n        {:on-click #(navigate-to-home)}\n        [icon/touch :house]]])))\n\n(defn right-icon [{:keys [menu-direction get-menuopen-fn toggle-menu-open]}]\n  (let [{:keys [bg- fg br]} (st/fbg' :master-header)]\n    (when-not (get-menuopen-fn))\n    [:div.xw-16.xh-16.flex.flex.flex-center\n     {:class    (concat\n                  [:rounded-md\n\n                   :xgroup-hover:border-2\n                   :m-2]\n                  br bg- fg)\n      :on-click #(do\n                   (.stopPropagation %)\n                   (toggle-menu-open))}\n     (let [icon (-> @(rf/subscribe [:schpaa.components.widgets/get-tab]) st/color-map :icon)]\n       [icon/touch (if (get-menuopen-fn)\n                     nil\n                     (or (keyword icon) :hamburger))])]))\n\n(defn home-icon [current-page]\n  (let [icon (if (or\n                   (some #{(current-page)} [:r.new-booking :r.forsiden :r.booking-blog])\n                   (some #{(current-page)} [:r.forsiden :r.kalender :r.annet]))\n               :house\n               :circle-user)]\n    [:div.w-5.h-5 {:class [:text-alt]} [icon/adapt icon 1.4]]))\n\n(rf/reg-sub :app/name :-> :app/name)\n\n(defn title [{:keys [current-page menu-direction current-page-title current-page-subtitle user-auth] :as m}]\n  (let [{:keys [fg- fg fg+ p+ p- p]} (st/fbg' :master-header)\n        sub-text (if (user-auth) (:display-name (user-auth)) \"Registrer deg / Logg inn\")\n        app-name @(rf/subscribe [:app/name])\n        title (current-page-title)\n        [long-form short-form] (if (vector? title) title [title nil])\n        sub-header (if (user-auth) (current-page-subtitle) \"Velkommen\")]\n    (if menu-direction\n      [:div.flex.items-center.antialiased\n       {:class [:justify-start :text-lg :antialiased :leading-snug :font-bold]}\n       [:div.leading-none.whitespace-nowrap\n        {:class (concat [:text-left] fg p-)}\n        [:div.py-0.flex.items-center.divide-dotted.divide-x-2.divide-gray-400\n         {:class (concat fg p+ [:leading-5])}\n         [:span.pr-2 (home-icon current-page)]\n         [:span.pl-2 sub-header \" \u00b7 \" app-name]]\n        [:div.leading-5 {:class (concat fg+ p-)} sub-text]]]\n\n      [:div.flex.items-center.antialiased\n       {:class [:justify-end :text-lg :antialiased :leading-snug :font-bold]}\n       [:div.leading-none.whitespace-nowrap\n        {:class (concat [:text-right] fg p-)}\n        [:div.py-0.flex.items-center.divide-dotted.divide-x-2.divide-gray-400\n         {:class (concat fg p+ [:leading-5])}\n         [:span.pr-2 app-name \" \u00b7 \" sub-header]\n         [:span.pl-2 (home-icon current-page)]]\n        [:div.leading-5 {:class (concat fg+ p-)} sub-text]]])))\n\n(defn render [{:keys [menu-direction] :as m}]\n  (let [{:keys [bg fg- fg fg+ hd p p- he]} (st/fbg' :master-header)]\n    [:div.grid.w-full.group\n     {:class bg\n      :style {:grid-template-columns (if menu-direction \"4rem 1fr 4rem\" \"4rem 1fr 4rem\")\n              :grid-auto-rows        \"4rem\"}}\n     (into [:<>]\n           (cond-> [[right-icon m]\n                    [:div.self-center [title m]]\n                    [left-icon m]]\n             menu-direction reverse))]))\n"]}