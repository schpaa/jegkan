{"version":3,"sources":["schpaa/modal/msg.cljs"],"mappings":";AAuBA,+BAAA,uCAAAA,tEAAMI;AAAN,AAAA,IAAAH,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;aAAA,AAAAE,4CAAAF,eAAA,pEACWI;cADX,AAAAF,4CAAAF,eAAA,rEACkBK;aADlB,AAAAH,4CAAAF,eAAA,pEAC0BM;YAD1B,AAAAJ,4CAAAF,eAAA,nEACiCO;eADjC,AAAAL,4CAAAF,eAAA,tEACuCQ,oIACnB;AAAA,AAAO,oHAAA,7GAACG;;YAF5B,AAAAT,4CAAAF,eAAA,nEACgDS;WADhD,AAAAP,4CAAAF,eAAA,lEACsDU;AADtD,AAAA,0FAGG,wMAAA,uEAAA,yMAAA,kFAAA,AAAA,xhBACE,eAAA,iFAAA,hGAACE,8KAAgBH,iGACjB,eAAA,iFAAA,hGAACG,+KAAiBH;6UALvB,2CAAA,rXAOG,2MAAA,6DAAA,tPAAI,eAAA,iFAAA,hGAACG,iLAAkBH,4PAEtB;AAAA,AACE,2DAAA,2CAAA,uDAAA,2CAAA,0EAAA,mFAAA,uFAAA,kEAAA,sDAAA,w6FAAA,2CAAA,hgHAACI,omBAIe,mDAAA,nDAACA,6CAAKJ,oEAEpB,yBAAA,2CAAA,wDAAA,mFAAA,2IAAA,2CAAA,uDAAA,2CAAA,uFAAA,uCAAA,mFAAA,wjDAAA,2CAAA,zwEAAIF,utBAIS,wBAAA,mFAAA,iDAAA,mFAAA,iHAAA,0HAAA,mFAAA,gGAAA,mFAAA,9sBAAIG,iaAEqCI,kBAAWJ,kLAC/BH,+NACoBA,uBAC1C,iNAAA,KAAA,AAAA,mFAAA,mDAAA,2CAAA,8EAAA,qGAAA,xiBAAU,eAAA,iFAAA,hGAACK,uLAAqBH,2PACbD,oGAAWM,qNAC/BV,kEACX,0BAAA,2CAAA,gSAAA,nVAAIE,4GACO,8BAAA,mFAAA,/GAAI,OAASA,+LAAgCA,eAAQA,2HACtDD","names":["p__70087","map__70088","cljs.core/--destructure-map","cljs.core.get","schpaa.modal.msg/form-action","header","form-fn","footer","title","close-fn","flags","icon","nrpk.fsm_helpers.send","cljs.core/some","cljs.core.conj","schpaa.icon/small"],"sourcesContent":["(ns schpaa.modal.msg\n  (:require [schpaa.icon :as icon]\n            [nrpk.fsm-helpers])) \n\n#_(defn form-action\n    [{:keys [header form-fn on-primary primary secondary footer]}]\n    [:e.show\n     {:modal-config-fn\n      (fn []\n        (conj\n          ;intent Hardwired\n          {:style       {:final-position [:translate-y-0]}\n           :dialog-type :form\n           :flags       #{:wide}}\n          ;intent Soft\n          {:header     header\n           :form-fn    form-fn\n           :footer     footer\n           ;;\n           :on-primary on-primary\n           :primary    primary\n           :secondary  secondary}))}])\n\n(defn form-action\n  [{:keys [header form-fn footer title close-fn flags icon]\n    :or   {close-fn (fn [] (nrpk.fsm-helpers/send :e.hide))}}]\n  [(cond\n     (some #{:forced} flags) :e.show-locked\n     (some #{:timeout} flags) :e.show-with-timeout\n     :else :e.show)\n   (if (some #{:weak-dim} flags) :weak-dim :normal-dim)\n   {:modal-config-fn\n    (fn []\n      (conj\n        ;intent Hardwired\n        {:style       {:final-position [:translate-y-0]}\n         :dialog-type :form\n         :flags       (conj flags :wide)}\n        ;intent Soft\n        (if title\n          {:header [:div.grid.gap-2.p-4.text-base.font-normal.w-full\n                    {:style {:grid-template-columns \"2rem 1fr min-content\"}}\n                    [:<>\n                     (if icon\n                       [:<>\n                        [:div.self-center.justify-self-start [icon/small icon]]\n                        [:div.self-center title]]\n                       [:div.col-span-2.self-center.font-bold title])]\n                    (when-not (some #{:no-crossout} flags)\n                      [:div {:on-click close-fn} [icon/small :cross-out]])]}\n          {:header header})\n        (if footer\n          {:footer (if (string? footer) [:div.py-4.px-2.text-sm footer] footer)})\n        {:form-fn form-fn}))}])\n\n#_(defn error-message\n    \"invoked from call-site\"\n    [{:keys [title text primary footer]}]\n    [:e.show-with-timeout\n     {:modal-config-fn (fn [] {:style     {:final-position [:translate-y-0]\n                                           :type           #{:error :message :wide}}\n                               :primary   primary\n                               :secondary \"Rapporter!\"\n                               :title     title\n                               :footer    footer\n                               :content   (fn [_context]\n                                            [:div.p-4.space-y-4.inter\n                                             [:div.font-normal.text-lg text]])})}])\n\n#_(defn confirm-action\n    \"invoked from call-site\"\n    [{:keys [title text primary timeout footer]\n      :or   {timeout 117500}}]\n    [:e.show\n     {:timeout timeout\n      :modal-config-fn\n      (fn [] {:style   {:final-position [:translate-y-0]\n                        :type           #{:message}}\n              :primary primary\n              :footer  footer\n              :title   title\n              :content (fn [_context]\n                         [:div.p-4.space-y-4.inter\n                          [:div.font-normal.text-lg text]])})}])\n\n#_(defn are-you-sure?\n    \"invoked from call-site\"\n    [{:keys [title text primary secondary on-primary timeout footer]\n      :or   {timeout 7500}}]\n    [:e.show-with-timeout\n     {:timeout timeout\n      :modal-config-fn\n      (fn [] {:style      {:final-position [:translate-y-0]\n                           :type           #{:title :confirm}}\n              :primary    primary\n              :secondary  secondary\n              :footer     footer\n              :on-primary on-primary\n              :title      title\n              :content    (fn [_context]\n                            [:div.p-4.space-y-4.inter\n                             [:div.font-normal.text-lg text]])})}])\n\n#_(defn are-you-sure-forced?\n    \"invoked from call-site\"\n    [{:keys [title text primary secondary on-primary on-close footer]}]\n    [:e.show-locked\n     {:modal-config-fn\n      (fn [] {:style      {:final-position [:translate-y-0]\n                           :type           #{:title :confirm}}\n              :primary    primary\n              :secondary  secondary\n              :footer     footer\n              :on-primary on-primary\n              :on-close   on-close\n              :title      title\n              :content    (fn [_context]\n                            [:div.p-4.space-y-4.inter\n                             [:div.font-normal.text-lg text]])})}])\n\n#_(defn are-you-sure-cover-and-forced?\n    \"invoked from call-site\"\n    [{:keys [title text primary secondary on-primary on-close footer]}]\n    [:e.show-locked\n     {:modal-config-fn\n      (fn [] {:style      {:final-position [:translate-y-0]\n                           :type           #{:title :confirm :cover}}\n              :primary    primary\n              :secondary  secondary\n              :footer     footer\n              :on-primary on-primary\n              :on-close   on-close\n              :title      title\n              :content    (fn [_context]\n                            [:div.p-4.space-y-4.inter\n                             [:div.font-normal.text-lg text]])})}])\n\n#_(defn message-with-timeout [title content]\n    [:e.show-with-timeout\n     {:modal-config-fn (fn [] {:style   {:type #{:wide :message}}\n                               :title   title\n                               :content (fn [_] [:div content])})}])\n\n#_(defn message [title content]\n    [:e.show\n     {:modal-config-fn (fn [] {:style   {:type #{:wide :message}}\n                               :title   title\n                               :content (fn [_] [:div content])})}])"]}