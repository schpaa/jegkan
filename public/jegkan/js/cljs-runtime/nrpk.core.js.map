{"version":3,"sources":["nrpk/core.cljs"],"mappings":";AAKA,2DAAA,mHAAA,gDAAA,mFAAA,jTAACA,iYAEW,WAAKC,MAAMC;AAAX,AACE,OAAA,mFAAA,AAAA,mFAAID;;AAElB,2DAAA,yHAAA,gDAAA,pOAACD;AAED,2DAAA,4HAAA,gDAAA,mFAAA,1TAACA,0YAEW,WAAKG,EAAED;AAAP,AACE,IAAAE,WAAQD;IAARC,eAAA,EAAA,CAAAA,YAAA,OAAA,KAAA,AAAA,mFAAAA;AAAA,AAAA,GAAA,CAAAA,gBAAA;AAAA;;AAAA,OAAA,mFAAAA;;;AAEd,2DAAA,uIAAA,gDAAA,mFAAA,rUAACJ,qZAEW,WAAKG,EAAED;AAAP,AACE,IAAAG,WAAQF;IAARE,eAAA,EAAA,CAAAA,YAAA,OAAA,KAAA,AAAA,mFAAAA;AAAA,AAAA,GAAA,CAAAA,gBAAA;AAAA;;AAAA,OAAA,sFAAAA;;;AAEd,2DAAA,6IAAA,gDAAA,mFAAA,3UAACL,2ZAEW,WAAKG,EAAED;AAAP,AACE,IAAAI,WAAQH;IAARG,eAAA,EAAA,CAAAA,YAAA,OAAA,KAAA,AAAA,mFAAAA;AAAA,AAAA,GAAA,CAAAA,gBAAA;AAAA;;AAAA,OAAA,8FAAAA;;;AAEd,yDAAA,zDAACC,sIACgB,WAAKC;AAAL,AACE,6DAAA,tDAACC,+CAAOD,yEAAe,2DAAA,3DAACE,6CAAKC;;AAEhD,yDAAA,zDAACJ,oIACgB,kBAAAK,PAAKJ;AAAL,AAAA,IAAAK,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASX;UAAT,AAAAY,4CAAAD,WAAA,IAAA,jEAAWE;AAAX,AACE,mEAAA,kEAAA,uDAAA,rLAACC,qDAAMR,mLACQO;;AAElC,yDAAA,yEAAA,lIAACE,qNACiBC,6BACD,aAAAC,FAAKjB;AAAL,AAAA,IAAAkB,aAAAD;WAAA,AAAAL,4CAAAM,WAAA,IAAA,lEAAQC;AAAR,AAAA,kDAAA,kDAAA,mFAAA,mFAAA,oEACsBA;;AAIvC,2DAAA,3DAACrB,2LAA+B,WAAKQ;AAAL,AACE,0DAAA,yEAAA,5HAACc,4CAAId;;AAIvC,2DAAA,3DAACR,+KACW,kBAAAuB,PAAKf;AAAL,AAAA,IAAAgB,aAAAD;QAAA,AAAAT,4CAAAU,WAAA,IAAA,/DAAStB;cAAT,AAAAY,4CAAAU,WAAA,IAAA,rEAAWE;eAAX,AAAAZ,4CAAAU,WAAA,IAAA,tEAAmBG;AAAnB,AAAA,oBACS,eAAA,yDAAA,mFAAA,qEAAA,hOAACC,8DAAOF;AADjB;AAAA,AAAA,MAAA,KAAAD,MAAA;;;AAAA,0FAEG,AAACH,4CAAId,OAAGkB,QAAQC;;AAE/B,yDAAA,zDAACpB,uIACgB,kBAAAsB,PAAKrB;AAAL,AAAA,IAAAsB,aAAAD;QAAA,AAAAf,4CAAAgB,WAAA,IAAA,/DAAS5B;cAAT,AAAAY,4CAAAgB,WAAA,IAAA,rEAAWJ;WAAX,AAAAZ,4CAAAgB,WAAA,IAAA,lEAAmBT;AAAnB,AAAA,oBACS,eAAA,yDAAA,mFAAA,qEAAA,hOAACO,8DAAOF;AADjB;AAAA,AAAA,MAAA,KAAAD,MAAA;;;AAEE,OAACT,8CAAMR,OAAGkB,QAAQL","names":["re_frame.core.reg_sub","route","_","r","G__54913","G__54914","G__54915","re_frame.core.reg_event_db","db","cljs.core.update","cljs.core.fnil","cljs.core/not","p__54916","vec__54917","cljs.core.nth","tab","cljs.core.assoc","re_frame.core.reg_event_fx","re-frame.core/trim-v","p__54920","vec__54921","page","cljs.core.get","p__54924","vec__54925","js/Error","context","default","cljs.core/some","p__54928","vec__54929"],"sourcesContent":["(ns nrpk.core\n  (:require [re-frame.core :as rf]))\n\n;region events and subs\n\n(rf/reg-sub :route-name\n            :<- [:kee-frame/route]\n            (fn [route _]\n              (-> route :data :name)))\n\n(rf/reg-sub :app/menu-open? :-> :menu-open?)\n\n(rf/reg-sub :app/current-page\n            :<- [:kee-frame/route]\n            (fn [r _]\n              (some-> r :data :name)))\n\n(rf/reg-sub :app/current-page-title\n            :<- [:kee-frame/route]\n            (fn [r _]\n              (some-> r :data :header)))\n\n(rf/reg-sub :app/current-page-subtitle\n            :<- [:kee-frame/route]\n            (fn [r _]\n              (some-> r :data :subheader)))\n\n(rf/reg-event-db :toggle-menu-open\n                 (fn [db]\n                   (update db :menu-open? (fnil not false))))\n\n(rf/reg-event-db :app/open-menu-at\n                 (fn [db [_ tab]]\n                   (assoc db :menu-open? true\n                             :tab tab)))\n\n(rf/reg-event-fx :app/navigate-to\n                 [rf/trim-v]\n                 (fn [_ [page]]\n                   {:fx [[:navigate-to page]]}))\n\n;endregion\n\n(rf/reg-sub :app/menu-direction (fn [db]\n                                  (get db :menu-direction true)))\n\n;region tab-memory for front and back\n\n(rf/reg-sub :app/previous\n            (fn [db [_ context default]]\n              {:pre [(some #{context} [:active-front :active-back])]}\n              [(get db context default)]))\n\n(rf/reg-event-db :app/register-entry\n                 (fn [db [_ context page]]\n                   {:pre [(some #{context} [:active-front :active-back])]}\n                   (assoc db context page)))\n\n;endregion"]}